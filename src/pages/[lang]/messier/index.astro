---
export async function getStaticPaths() {
  return [{ params: { lang: 'en' } }, { params: { lang: 'fa' } }]
}

import ContentMedia from '@components/ContentMedia.astro'
import DefaultLayout from '@layouts/DefaultLayout.astro'

import fa from '../../../data/fa.json'
import en from '../../../data/en.json'
import { Media } from 'accessible-astro-components'

const { lang } = Astro.params
const data = lang === 'fa' ? fa : en
---

<DefaultLayout title={data.messier.name}>
  <section class="mt-4 mb-[-100px]">
    <div class="container">
      <div class="flex items-center gap-4">
        <h2 class="text-6xl">{data.messier.name}</h2>
        <img class="h-10 w-10" src="/broccoli/messier/messier.png" />
      </div>
      <p class="mt-8">
        {data.messier.description}
      </p>
    </div>
  </section>

  {
    data.messier.sections.map((section) => (
      <ContentMedia imgSrc={section.image}>
        <h2>{section.title}</h2>
        <p class="text-2xl">{section.description}</p>
      </ContentMedia>
    ))
  }
</DefaultLayout>
